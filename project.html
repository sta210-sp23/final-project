<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Anmol Sapru and Rohit Gunda">

<title>Final Project - Predicting March Madness</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="project_files/libs/clipboard/clipboard.min.js"></script>
<script src="project_files/libs/quarto-html/quarto.js"></script>
<script src="project_files/libs/quarto-html/popper.min.js"></script>
<script src="project_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="project_files/libs/quarto-html/anchor.min.js"></script>
<link href="project_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="project_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="project_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="project_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="project_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-full">

<main class="content column-page" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Final Project - Predicting March Madness</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Anmol Sapru and Rohit Gunda </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="introduction-and-data" class="level2">
<h2 class="anchored" data-anchor-id="introduction-and-data"><u>Introduction and Data</u></h2>
<section id="motivation" class="level4">
<h4 class="anchored" data-anchor-id="motivation"><u>Motivation</u></h4>
<p>Duke is synonymous with basketball. As Duke students who love Duke Basketball and March Madness, we are interested in performing a statistical analysis on the most thrilling tournament in sports. While watching the 2023 March Madness tournament and the many upsets that came with it, we were motivated to see if we could use statistical methods to predict March Madness winners. Upon scouring sites such as FiveThirtyEight and the KenPom rankings, we were inspired to create models of our own to predict tournament success.</p>
<p><strong>Fundamental Research Question:</strong> What variables are the most important to March Madness tournament success and which outliers over the past 15 years have existed that have brought “Madness” to “March?</p>
</section>
<section id="packages" class="level4">
<h4 class="anchored" data-anchor-id="packages"><u>Packages</u></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidymodels)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(Stat2Data)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(caret)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(leaps)</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(MASS)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(gridExtra)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="data" class="level4">
<h4 class="anchored" data-anchor-id="data"><u>Data</u></h4>
<div class="cell">

</div>
<p>Data was found from the <a href="https://www.sports-reference.com/cbb/seasons/men/2023-school-stats.html">Sports Reference college basketball team stats website</a> and <a href="https://barttorvik.com/#">Bart Torvik analytics website</a>, with these general and deeper stats and team information being taken going back to 2008 (excluding the canceled March Madness of 2020). Both of these sources allow for easy copy + pasting of CSV files with the annual stats for each team and their tournament performance. This data combined had 4878 observations for each Division I team over this time period and a 52. Then, the data in <code>background</code> was cleaned in Excel to separate the combined cell with year and result of each team and joined from both sources into one. Nearly all of the information is quantitative in nature, except for conference. With the nature of March Madness being over time, the data most definitely violates temporal expectations of independence, with similar players, coaching staff, and more factors between years. However, there would not be a reasonable way to complete such analysis without this independence.</p>
</section>
<section id="key-variables" class="level4">
<h4 class="anchored" data-anchor-id="key-variables"><u>Key Variables</u></h4>
<ul>
<li><p>march_madness - Our key response variable that states the round each team was able to make it to in their tournament. Our overall goal is to predict this variable for teams in the 2023 March Madness Tournament with the data we have from previous years.</p></li>
<li><p>ADJOE/ADJDE - Points scored per 100 possessions on offense/defense, adjusted for opponent strength and game location</p></li>
<li><p>TOR/TORD - Turnovers committed/forced per game on offense/defense</p></li>
<li><p>ADJT - Estimated possessions per game a team would have against the average tempo</p></li>
<li><p>EFG% - Field goal percentage adjusted for value of baskets scored</p></li>
</ul>
</section>
<section id="description-of-data-cleaning" class="level4">
<h4 class="anchored" data-anchor-id="description-of-data-cleaning"><u>Description of Data Cleaning</u></h4>
<p>For further cleaning, the non-March Madness teams added in the join were removed and simple variable names and values were cleaned up to be easier to work with. First, we joined our original <code>cbb</code> data set with <code>background</code>, both of which we got from Bart Torvik’s analytics website. The latter data set contained details about each team’s performance in the tournament for the relevant years. The observations of teams that did not make the Round of 64 for their tournament were then removed to focus on further prediction of specifically March Madness, as opposed to Division I basketball as a whole.</p>
<p>We also abbreviated each of the outcomes in the <code>march_madness</code> variable. Then, we joined the <code>cbb</code> and the <code>sportsreference</code> data sets by team and year to aggregate all of the statistics and data that were interested in analyzing. For the round each team made it to, the values were shortened to a shorter form (i.e.&nbsp;F4 instead of Final Four). Each round was split up into its own variable and data set which showed the success of each team in each round (e.g.&nbsp;win or loss in the Round of 32), which would allow for each regression conducted later on to have its own data set. Finally, we created the <code>mm_WINS</code> variable which tracks how many wins a given team had in a tournament year. We deduced this from the outcome from the <code>march_madness</code> variable and applied it to our new variable. This helped us with our EDA as we were able to see how many wins each conference/team had in any given tournament.</p>
</section>
<section id="exploratory-data-analysis" class="level4">
<h4 class="anchored" data-anchor-id="exploratory-data-analysis"><u>Exploratory Data Analysis</u></h4>
<div class="cell">
<div class="cell-output-display">
<p><img src="project_files/figure-html/EDA-conferences-stats-by-round-1.png" class="img-fluid" width="1248"></p>
</div>
</div>
</section>
</section>
<section id="methodology" class="level2">
<h2 class="anchored" data-anchor-id="methodology"><u>Methodology</u></h2>
<div class="cell">

</div>
<section id="round-by-round-logistic-regression" class="level3">
<h3 class="anchored" data-anchor-id="round-by-round-logistic-regression"><u>Round-by-Round Logistic Regression</u></h3>
<p>The following is an example of the regression that was run on all of the Round of 64 teams to create a regression that predicts winners (round_64 = TRUE) against losers (round_64 = FALSE) for the round. It is followed by the Round of 64 model output We put every variable from our data set into the logistic regression, with the interaction terms based on variables that would be considered to be differential team statistics (i.e.&nbsp;3P% and 3P%D interact for 3-Pointer % Differential). The number of variables was then reduced to those considered appropriate using stepAIC works to attempt to limit the overfitting of the data. StepAIC was chosen due to AIC’s ability to compare different models and the function’s easy implementation as a model. The stepAIC function was implemented starting at the upper model and going in both directions. However, the stepAIC function has a potential problem in using glm fits since in that case the deviance is not simply related to the maximized log-likelihood.</p>
<p>We chose to do a logistic model because our outcome variable is whether they had won in the respective round or not (binary response variable). The round_64 variable measures whether the team won in the Round of 64. The outcome is either a win or loss, so a logistic regression model serves our analysis best. We did this for the first three rounds of the tournament—we avoided Elite Eight to the National Championship game as there simply was not enough data to create a viable predictive model (Northern Kentucky was predicted to win in the Final Four).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>round_64_data <span class="ot">&lt;-</span> <span class="fu">na.omit</span>(round_64_data)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>round_64_max <span class="ot">&lt;-</span> <span class="fu">glm</span>(round_64 <span class="sc">~</span> G.x <span class="sc">+</span> ADJOE <span class="sc">+</span> ADJDE <span class="sc">+</span> <span class="st">`</span><span class="at">EFG%</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">EFGD%</span><span class="st">`</span> <span class="sc">+</span> TOR <span class="sc">+</span> </span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>                      TORD <span class="sc">+</span> ORB <span class="sc">+</span> DRB <span class="sc">+</span> FTR <span class="sc">+</span> FTRD <span class="sc">+</span> <span class="st">`</span><span class="at">2P%</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">2P%D</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">3P%</span><span class="st">`</span> <span class="sc">+</span> </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>                      <span class="st">`</span><span class="at">3P%D</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">3PR</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">3PRD</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">ADJ T</span><span class="st">`</span> <span class="sc">+</span><span class="st">`</span><span class="at">Conf. W-L%</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">Home W-L%</span><span class="st">`</span> <span class="sc">+</span> </span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>                      <span class="st">`</span><span class="at">Away W-L%</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">AVG PPG</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">AVG DPPG</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">AVG PD</span><span class="st">`</span> <span class="sc">+</span> </span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>                      <span class="st">`</span><span class="at">AST/TOV</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">PF/G</span><span class="st">`</span> <span class="sc">+</span> ADJOE<span class="sc">*</span>ADJDE <span class="sc">+</span> <span class="st">`</span><span class="at">EFG%</span><span class="st">`</span><span class="sc">*</span><span class="st">`</span><span class="at">EFGD%</span><span class="st">`</span> <span class="sc">+</span> TOR<span class="sc">*</span>TORD <span class="sc">+</span> </span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>                      ORB<span class="sc">*</span>DRB <span class="sc">+</span> FTR<span class="sc">*</span>FTRD <span class="sc">+</span> <span class="st">`</span><span class="at">2P%</span><span class="st">`</span><span class="sc">*</span><span class="st">`</span><span class="at">2P%D</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">3P%</span><span class="st">`</span><span class="sc">*</span><span class="st">`</span><span class="at">3P%D</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">3PR</span><span class="st">`</span><span class="sc">*</span><span class="st">`</span><span class="at">3PRD</span><span class="st">`</span> <span class="sc">+</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>                      <span class="st">`</span><span class="at">2P%</span><span class="st">`</span><span class="sc">*</span><span class="st">`</span><span class="at">3P%</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">2P%D</span><span class="st">`</span><span class="sc">*</span><span class="st">`</span><span class="at">3P%D</span><span class="st">`</span> <span class="sc">+</span> <span class="st">`</span><span class="at">AVG PPG</span><span class="st">`</span><span class="sc">*</span><span class="st">`</span><span class="at">AVG DPPG</span><span class="st">`</span>,</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>                      <span class="at">data =</span> round_64_data,</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>                      <span class="at">family =</span> <span class="st">"binomial"</span>)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>round_64_min <span class="ot">&lt;-</span> <span class="fu">glm</span>(round_64 <span class="sc">~</span> <span class="dv">1</span>,</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>                    <span class="at">data =</span> round_64_data,</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>                    <span class="at">family =</span> <span class="st">"binomial"</span>)</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>round_64_model <span class="ot">&lt;-</span> <span class="fu">stepAIC</span>(round_64_max,</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>        <span class="at">scope =</span> <span class="fu">list</span>(<span class="at">lower =</span> round_64_min, <span class="at">upper =</span> round_64_max),</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>        <span class="at">data =</span> round_64_data, <span class="at">direction =</span> <span class="st">"both"</span>)</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(round_64_model)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">

</div>
<div class="cell">

</div>
<section id="assumptions" class="level4">
<h4 class="anchored" data-anchor-id="assumptions"><u>Assumptions</u></h4>
<p>As discussed earlier, the independence assumption for the data cannot be well-assumed due to temporal connections, and we soon hope to be able to have ways to solve such issues in our statistical toolkit. Logistic regressions also have a linearity assumption that is based on there being a linear relationship between the log-odds of the response and the predictors:</p>
<div class="cell quarto-layout-panel">
<div class="quarto-layout-row quarto-layout-valign-top">
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<p><img src="project_files/figure-html/logistic-linearity-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<p><img src="project_files/figure-html/logistic-linearity-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display quarto-layout-cell" style="flex-basis: 33.3%;justify-content: center;">
<p><img src="project_files/figure-html/logistic-linearity-3.png" class="img-fluid" width="672"></p>
</div>
</div>
</div>
<p>As can be seen above with just a few of the variables from each of the model, the linearity assumption does seem like it can be quite well assumed. We checked most of the variables and saw similar linearity assumptions to be well-assumed, but for the sake of space are just showing this small subset of these three continuous variables.</p>
</section>
</section>
<section id="overall-ordinal-regression" class="level3">
<h3 class="anchored" data-anchor-id="overall-ordinal-regression"><u>Overall Ordinal Regression</u></h3>
<p>We chose to complete an ordinal regression model as each of the progressing rounds of the tournament are in an ordinal progession. The variables used in the model were those that consistently showed up in the Round of 64, Round of 32, and Sweet Sixteen models after running the StepAIC function, meaning they can confidently be thought as meaningful predictors of success throughout multiple rounds of March Madness.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>Call:
polr(formula = march_madness ~ ADJOE + ADJDE + TORD + FTRD + 
    `2P%D` + `3P%D` + `AVG PPG` + `AVG DPPG` + `PF/G`, data = cbb)

Coefficients:
               Value Std. Error t value
ADJOE       0.165964    0.01579 10.5136
ADJDE      -0.228849    0.02414 -9.4790
TORD        0.035456    0.03449  1.0279
FTRD        0.067047    0.02809  2.3865
`2P%D`      0.035198    0.03971  0.8864
`3P%D`      0.023942    0.04088  0.5857
`AVG PPG`   0.052121    0.02645  1.9706
`AVG DPPG` -0.008595    0.03136 -0.2741
`PF/G`     -0.311339    0.09341 -3.3329

Intercepts:
              Value     Std. Error t value  
R64|R32         -0.2630    0.0010  -258.8674
R32|S16          1.3164    0.0963    13.6647
S16|E8           2.4566    0.1334    18.4125
E8|F4            3.3948    0.1726    19.6637
F4|2ND           4.2343    0.2247    18.8467
2ND|Champions    5.0224    0.2976    16.8770

Residual Deviance: 2011.75 
AIC: 2041.75 </code></pre>
</div>
</div>
<p>The assumption required for an ordinal regression is the proportional odds assumption, which applied to this situation is the idea that the same conditional relationship with odds of making it from one round to the next no matter which round that is. This is reasonable due to the fact the proportion of teams that makes it on from one round to the next stays at a constant 50 percent, no matter which round they are participating in.</p>
</section>
</section>
<section id="results" class="level2">
<h2 class="anchored" data-anchor-id="results"><u>Results</u></h2>
<p>For checking the results, we got this year’s data from Sports Reference and Bart Torovik’s website and joined and cleaned then in the same way as done for the other years. The predict function was then called on these, leaving the following log-odds for the rounds and ordinal regression.</p>
<div class="cell">

</div>
<section id="round-of-64-predictions" class="level4">
<h4 class="anchored" data-anchor-id="round-of-64-predictions"><u>Round of 64 Predictions</u></h4>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 3
   TEAM          `predict(round_64_model, \`2023stats\`)`  prob
   &lt;chr&gt;                                            &lt;dbl&gt; &lt;dbl&gt;
 1 Houston                                           3.59 0.973
 2 UCLA                                              3.41 0.968
 3 San Diego St.                                     2.50 0.924
 4 Alabama                                           2.48 0.923
 5 Purdue                                            2.24 0.903
 6 Marquette                                         2.23 0.903
 7 Kansas                                            2.08 0.889
 8 Texas                                             1.96 0.877
 9 Tennessee                                         1.89 0.868
10 Connecticut                                       1.74 0.850</code></pre>
</div>
</div>
</section>
<section id="round-of-32-predictions" class="level4">
<h4 class="anchored" data-anchor-id="round-of-32-predictions"><u>Round of 32 Predictions</u></h4>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 3
   TEAM          `predict(round_32_model, \`2023stats\`)`  prob
   &lt;chr&gt;                                            &lt;dbl&gt; &lt;dbl&gt;
 1 Houston                                          2.18  0.899
 2 UCLA                                             1.50  0.817
 3 Alabama                                          1.27  0.780
 4 Gonzaga                                          1.03  0.736
 5 San Diego St.                                    1.00  0.731
 6 Purdue                                           0.910 0.713
 7 Penn St.                                         0.880 0.707
 8 Baylor                                           0.853 0.701
 9 Tennessee                                        0.848 0.700
10 Creighton                                        0.779 0.686</code></pre>
</div>
</div>
</section>
<section id="sweet-sixteen-predictions" class="level4">
<h4 class="anchored" data-anchor-id="sweet-sixteen-predictions"><u>Sweet Sixteen Predictions</u></h4>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 3
   TEAM          `predict(sweet_sixteen_model, \`2023stats\`)`  prob
   &lt;chr&gt;                                                 &lt;dbl&gt; &lt;dbl&gt;
 1 Houston                                               2.03  0.884
 2 Purdue                                                2.01  0.882
 3 Texas A&amp;M                                             1.09  0.749
 4 Connecticut                                           1.03  0.738
 5 Penn St.                                              0.961 0.723
 6 Auburn                                                0.674 0.662
 7 Kansas                                                0.624 0.651
 8 Alabama                                               0.532 0.630
 9 TCU                                                   0.467 0.615
10 San Diego St.                                         0.449 0.610</code></pre>
</div>
</div>
</section>
<section id="ordinal-regression-predictions" class="level4">
<h4 class="anchored" data-anchor-id="ordinal-regression-predictions"><u>Ordinal Regression Predictions</u></h4>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>           TEAM   R64   R32   S16    E8    F4   2ND Champions winning_odds
1       Houston 0.040 0.127 0.218 0.230 0.172 0.103     0.110         +809
2       Alabama 0.120 0.278 0.276 0.167 0.083 0.040     0.036        +2678
3          UCLA 0.070 0.198 0.266 0.211 0.126 0.066     0.063        +1487
4     Tennessee 0.089 0.233 0.276 0.194 0.106 0.053     0.049        +1941
5   Connecticut 0.089 0.232 0.276 0.194 0.107 0.053     0.049        +1941
6        Purdue 0.119 0.277 0.276 0.167 0.084 0.040     0.036        +2678
7       Arizona 0.193 0.344 0.247 0.119 0.053 0.024     0.021        +4662
8  Saint Mary's 0.176 0.333 0.256 0.128 0.058 0.026     0.023        +4248
9         Texas 0.133 0.293 0.273 0.157 0.076 0.036     0.032        +3025
10      Gonzaga 0.136 0.297 0.272 0.154 0.075 0.035     0.031        +3126</code></pre>
</div>
</div>
<p>All of the variables that ended up in our final ordinal regression model could be considered important, but for the sake of space and ease of understanding the interpretation we are focusing on the <code>Average PPG</code> variable.</p>
<p>The slope coefficient for average points per game for the Round of 64 logistic model is 0.396. Holding all other variables constant, for every one point increase in average points per game, the odds of winning in the Sweet Sixteen is associated with a e^0.396 = 1.486 multiplicative factor on the odds of winning in this round.</p>
<p>The slope coefficient for average points per game for the ordinal regression model is 0.052. For every one point increase in average points per game, the odds of moving onto the next round (the odds of winning in a given round) is predicted to be multiplied by e^0.052 = 1.054, while holding all other predictors in the model constant.</p>
</section>
<section id="predictive-power-via-2023-march-madness-predictions" class="level4">
<h4 class="anchored" data-anchor-id="predictive-power-via-2023-march-madness-predictions"><u>Predictive Power via 2023 March Madness Predictions</u></h4>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><embed src="NCAA-Tournament-Printable-Bracket-2023.pdf" class="img-fluid" width="2400"></p>
</figure>
</div>
<p>The ordinal model was able to predict 23/32 and 12/16 of the teams to make it on to the Round of 32 and Sweet Sixteen, respectively. For comparison, this bracket predicted much better than the “people’s bracket,” which had mainly the higher numbered seeds winning each matchup and all four 1 seeds making the Final Four.</p>
</section>
<section id="key-results" class="level4">
<h4 class="anchored" data-anchor-id="key-results"><u>Key Results</u></h4>
<p>An unsurprising key result found was the randomness of the tournament, with a simple wrong decision in the earlier rounds multiplying into the lack of success for point totals in the later rounds. Based on the variables that ended up being chosen following the StepAIC function, summarizing variables that consider games played and strength of opponents over the season are stronger predictors than some of the overall percentage stats about schedule success (e.g.&nbsp;Home/Away Win %). From the variables that consistently showed up in the logistic models and were thus used in the ordinal model, there was a higher emphasis on defensive stats compared to those of the offense.</p>
</section>
</section>
<section id="discussion" class="level2">
<h2 class="anchored" data-anchor-id="discussion"><u>Discussion</u></h2>
<p>The variables that we noted to be most important were summary statistics about a team’s offensive and defensive capabilities, specifically around shooting and when accounting into the strength of opponents. This led into ADJOE, ADJDE, and PPG Scored and Allowed being important variables for the model. Based on the predictions for this year, the suprise team was Florida Atlantic University, who was able to make the Final Four despite being predicted to lose in the Round of 64 against Memphis by both the ordinal and Round of 64 logistic regression. Our model did, unfortunately, predict Duke losing to Tennessee in the Round of 32.</p>
<p>By running our ordinal model to predict the upsets and cinderella stories of the past 15 years of March Madness we found these outliers:</p>
<ul>
<li><p>2023 16-seed FDU upsets 1-seed Purdue: Our model also stated that FDU had the lowest probability of winning any game out of ANY team in the last 16 years, yet they pulling off the upset over a strong national title contender</p></li>
<li><p>2022 15-seed Saint Peter’s beats 2-seed Kentucky: Kentucky was predicted to be a contender for the national title, while Saint Peter’s beat out extremely low odds to make the Elite 8</p></li>
<li><p>2011 Connecticut’s national title: The model left UConn with odds around 1 in 100 to win the tournament, which was the lowest of any winning team in the data set</p></li>
<li><p>2011 VCU makes the Final Four: It was predicted 1 in 5 for the team to even win their first round game, yet the team was able to make it much further</p></li>
<li><p>2014 Duke and 2022 UNC: Brutal</p></li>
</ul>
<p>Among the issues of our analysis is the glaring lack of independence between observations that would be required for many of the regressions used for prediction. As STA 210 students, our statistical toolkit does not yet have the necessary knowledge to deal with these issues of time-related data, so hopefully as it expands in further classes we will be able to come back and solve some of the issues with the violations. Possible issues with the model could include a lack of importance placed on the recent due to the stats used being from the season as a whole, thus injuries and general performance boosts lack as much influence as might be needed. There is also a small subset of data that is available to us, such as not much being known about the types of shots each team is taking, which could be important to the micro-level analysis of teams.</p>
<section id="ideas-for-future-work" class="level4">
<h4 class="anchored" data-anchor-id="ideas-for-future-work"><u>Ideas for Future Work</u></h4>
<p>There are quite a few limitations to the model that can be worked towards and improved for a better analysis. The much repeated violated assumption has been the independence between observations, stemming from similarities between teams and years. There are various ways of dealing with this, which can be further dealt with after adding to our statistical toolkit in courses like STA 344 (Introduction to the Statistical Modeling of Spatial and Time Series Data). The complexities of the real world and March Madness also means that although there is a lot of information being fed into the regression, there are likely still key pieces of data that are not included. Of course, this data could simply be added, or a new more novel strategy could be the use of something like machine learning for a more nuanced prediction with the factors that are found to be important. In terms of the probabilities, since match-ups and brackets are not being set up against each other, the probabilities of opposing teams winning a game does not add up to 1, which would require setting up a bracket to do. An interesting outcome which could come from this is its use in areas like sports betting to beat the odds makers and quantify success in yet another way. For the non-gamblers, perhaps another valuable outcome from this analysis could be a potential perfect bracket, winning Warren Buffet’s billion-dollar prize.</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>